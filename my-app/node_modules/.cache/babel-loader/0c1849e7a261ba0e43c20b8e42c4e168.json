{"ast":null,"code":"import { isDefined, isUndefined } from '../common/predicates';\n/** A `LocationConfig` that delegates to the browser's `location` object */\n\nvar BrowserLocationConfig =\n/** @class */\nfunction () {\n  function BrowserLocationConfig(router, _isHtml5) {\n    if (_isHtml5 === void 0) {\n      _isHtml5 = false;\n    }\n\n    this._isHtml5 = _isHtml5;\n    this._baseHref = undefined;\n    this._hashPrefix = '';\n  }\n\n  BrowserLocationConfig.prototype.port = function () {\n    if (location.port) {\n      return Number(location.port);\n    }\n\n    return this.protocol() === 'https' ? 443 : 80;\n  };\n\n  BrowserLocationConfig.prototype.protocol = function () {\n    return location.protocol.replace(/:/g, '');\n  };\n\n  BrowserLocationConfig.prototype.host = function () {\n    return location.hostname;\n  };\n\n  BrowserLocationConfig.prototype.html5Mode = function () {\n    return this._isHtml5;\n  };\n\n  BrowserLocationConfig.prototype.hashPrefix = function (newprefix) {\n    return isDefined(newprefix) ? this._hashPrefix = newprefix : this._hashPrefix;\n  };\n\n  BrowserLocationConfig.prototype.baseHref = function (href) {\n    if (isDefined(href)) this._baseHref = href;\n    if (isUndefined(this._baseHref)) this._baseHref = this.getBaseHref();\n    return this._baseHref;\n  };\n\n  BrowserLocationConfig.prototype.getBaseHref = function () {\n    var baseTag = document.getElementsByTagName('base')[0];\n\n    if (baseTag && baseTag.href) {\n      return baseTag.href.replace(/^([^/:]*:)?\\/\\/[^/]*/, '');\n    }\n\n    return this._isHtml5 ? '/' : location.pathname || '/';\n  };\n\n  BrowserLocationConfig.prototype.dispose = function () {};\n\n  return BrowserLocationConfig;\n}();\n\nexport { BrowserLocationConfig };","map":{"version":3,"mappings":"AAAA,SAASA,SAAT,EAAoBC,WAApB,QAAuC,sBAAvC;AAGA;;AACA;AAAA;AAAA;EAIE,+BAAYC,MAAZ,EAA6BC,QAA7B,EAA6C;IAAhB;MAAAA;IAAgB;;IAAhB;IAHrB,iBAAYC,SAAZ;IACA,mBAAc,EAAd;EAEyC;;EAEjDC;IACE,IAAIC,QAAQ,CAACC,IAAb,EAAmB;MACjB,OAAOC,MAAM,CAACF,QAAQ,CAACC,IAAV,CAAb;IACD;;IAED,OAAO,KAAKE,QAAL,OAAoB,OAApB,GAA8B,GAA9B,GAAoC,EAA3C;EACD,CAND;;EAQAJ;IACE,OAAOC,QAAQ,CAACG,QAAT,CAAkBC,OAAlB,CAA0B,IAA1B,EAAgC,EAAhC,CAAP;EACD,CAFD;;EAIAL;IACE,OAAOC,QAAQ,CAACK,QAAhB;EACD,CAFD;;EAIAN;IACE,OAAO,KAAKF,QAAZ;EACD,CAFD;;EAKAE,uDAAWO,SAAX,EAA6B;IAC3B,OAAOZ,SAAS,CAACY,SAAD,CAAT,GAAwB,KAAKC,WAAL,GAAmBD,SAA3C,GAAwD,KAAKC,WAApE;EACD,CAFD;;EAIAR,qDAASS,IAAT,EAAsB;IACpB,IAAId,SAAS,CAACc,IAAD,CAAb,EAAqB,KAAKC,SAAL,GAAiBD,IAAjB;IACrB,IAAIb,WAAW,CAAC,KAAKc,SAAN,CAAf,EAAiC,KAAKA,SAAL,GAAiB,KAAKC,WAAL,EAAjB;IACjC,OAAO,KAAKD,SAAZ;EACD,CAJD;;EAMQV,8CAAR;IACE,IAAMY,OAAO,GAAoBC,QAAQ,CAACC,oBAAT,CAA8B,MAA9B,EAAsC,CAAtC,CAAjC;;IACA,IAAIF,OAAO,IAAIA,OAAO,CAACH,IAAvB,EAA6B;MAC3B,OAAOG,OAAO,CAACH,IAAR,CAAaJ,OAAb,CAAqB,sBAArB,EAA6C,EAA7C,CAAP;IACD;;IAED,OAAO,KAAKP,QAAL,GAAgB,GAAhB,GAAsBG,QAAQ,CAACc,QAAT,IAAqB,GAAlD;EACD,CAPO;;EASRf,uDAAY,CAAZ;;EACF;AAAC,CA/CD","names":["isDefined","isUndefined","router","_isHtml5","undefined","BrowserLocationConfig","location","port","Number","protocol","replace","hostname","newprefix","_hashPrefix","href","_baseHref","getBaseHref","baseTag","document","getElementsByTagName","pathname"],"sources":["C:\\Users\\huang\\node_modules\\@uirouter\\core\\lib-esm\\vanilla\\@uirouter\\core\\vanilla\\browserLocationConfig.ts"],"sourcesContent":["import { isDefined, isUndefined } from '../common/predicates';\nimport { LocationConfig } from '../common/coreservices';\n\n/** A `LocationConfig` that delegates to the browser's `location` object */\nexport class BrowserLocationConfig implements LocationConfig {\n  private _baseHref = undefined;\n  private _hashPrefix = '';\n\n  constructor(router?, private _isHtml5 = false) {}\n\n  port(): number {\n    if (location.port) {\n      return Number(location.port);\n    }\n\n    return this.protocol() === 'https' ? 443 : 80;\n  }\n\n  protocol(): string {\n    return location.protocol.replace(/:/g, '');\n  }\n\n  host(): string {\n    return location.hostname;\n  }\n\n  html5Mode(): boolean {\n    return this._isHtml5;\n  }\n\n  hashPrefix(): string;\n  hashPrefix(newprefix?: string): string {\n    return isDefined(newprefix) ? (this._hashPrefix = newprefix) : this._hashPrefix;\n  }\n\n  baseHref(href?: string): string {\n    if (isDefined(href)) this._baseHref = href;\n    if (isUndefined(this._baseHref)) this._baseHref = this.getBaseHref();\n    return this._baseHref;\n  }\n\n  private getBaseHref() {\n    const baseTag: HTMLBaseElement = document.getElementsByTagName('base')[0];\n    if (baseTag && baseTag.href) {\n      return baseTag.href.replace(/^([^/:]*:)?\\/\\/[^/]*/, '');\n    }\n\n    return this._isHtml5 ? '/' : location.pathname || '/';\n  }\n\n  dispose() {}\n}\n"]},"metadata":{},"sourceType":"module"}