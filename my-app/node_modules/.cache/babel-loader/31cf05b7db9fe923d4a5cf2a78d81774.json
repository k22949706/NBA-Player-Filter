{"ast":null,"code":"import { extend, ancestors } from '../common/common';\n\nvar StateParams =\n/** @class */\nfunction () {\n  function StateParams(params) {\n    if (params === void 0) {\n      params = {};\n    }\n\n    extend(this, params);\n  }\n  /**\n   * Merges a set of parameters with all parameters inherited between the common parents of the\n   * current state and a given destination state.\n   *\n   * @param {Object} newParams The set of parameters which will be composited with inherited params.\n   * @param {Object} $current Internal definition of object representing the current state.\n   * @param {Object} $to Internal definition of object representing state to transition to.\n   */\n\n\n  StateParams.prototype.$inherit = function (newParams, $current, $to) {\n    var parentParams;\n    var parents = ancestors($current, $to),\n        inherited = {},\n        inheritList = [];\n\n    for (var i in parents) {\n      if (!parents[i] || !parents[i].params) continue;\n      parentParams = Object.keys(parents[i].params);\n      if (!parentParams.length) continue;\n\n      for (var j in parentParams) {\n        if (inheritList.indexOf(parentParams[j]) >= 0) continue;\n        inheritList.push(parentParams[j]);\n        inherited[parentParams[j]] = this[parentParams[j]];\n      }\n    }\n\n    return extend({}, inherited, newParams);\n  };\n\n  return StateParams;\n}();\n\nexport { StateParams };","map":{"version":3,"mappings":"AAAA,SAASA,MAAT,EAAiBC,SAAjB,QAAuC,kBAAvC;;AAGA;AAAA;AAAA;EAGE,qBAAYC,MAAZ,EAA4B;IAAhB;MAAAA;IAAgB;;IAC1BF,MAAM,CAAC,IAAD,EAAOE,MAAP,CAAN;EACD;EAED;;;;;;;;;;EAQAC,2CAASC,SAAT,EAAyBC,QAAzB,EAAgDC,GAAhD,EAAgE;IAC9D,IAAIC,YAAJ;IACA,IAAMC,OAAO,GAAGP,SAAS,CAACI,QAAD,EAAWC,GAAX,CAAzB;IAAA,IACEG,SAAS,GAAQ,EADnB;IAAA,IAEEC,WAAW,GAAa,EAF1B;;IAIA,KAAK,IAAMC,CAAX,IAAgBH,OAAhB,EAAyB;MACvB,IAAI,CAACA,OAAO,CAACG,CAAD,CAAR,IAAe,CAACH,OAAO,CAACG,CAAD,CAAP,CAAWT,MAA/B,EAAuC;MACvCK,YAAY,GAAGK,MAAM,CAACC,IAAP,CAAYL,OAAO,CAACG,CAAD,CAAP,CAAWT,MAAvB,CAAf;MACA,IAAI,CAACK,YAAY,CAACO,MAAlB,EAA0B;;MAE1B,KAAK,IAAMC,CAAX,IAAgBR,YAAhB,EAA8B;QAC5B,IAAIG,WAAW,CAACM,OAAZ,CAAoBT,YAAY,CAACQ,CAAD,CAAhC,KAAwC,CAA5C,EAA+C;QAC/CL,WAAW,CAACO,IAAZ,CAAiBV,YAAY,CAACQ,CAAD,CAA7B;QACAN,SAAS,CAACF,YAAY,CAACQ,CAAD,CAAb,CAAT,GAA6B,KAAKR,YAAY,CAACQ,CAAD,CAAjB,CAA7B;MACD;IACF;;IACD,OAAOf,MAAM,CAAC,EAAD,EAAKS,SAAL,EAAgBL,SAAhB,CAAb;EACD,CAlBD;;EAmBF;AAAC,CAlCD","names":["extend","ancestors","params","StateParams","newParams","$current","$to","parentParams","parents","inherited","inheritList","i","Object","keys","length","j","indexOf","push"],"sources":["C:\\Users\\huang\\node_modules\\@uirouter\\core\\lib-esm\\params\\@uirouter\\core\\params\\stateParams.ts"],"sourcesContent":["import { extend, ancestors, Obj } from '../common/common';\nimport { StateObject } from '../state/stateObject';\n\nexport class StateParams {\n  [key: string]: any;\n\n  constructor(params: Obj = {}) {\n    extend(this, params);\n  }\n\n  /**\n   * Merges a set of parameters with all parameters inherited between the common parents of the\n   * current state and a given destination state.\n   *\n   * @param {Object} newParams The set of parameters which will be composited with inherited params.\n   * @param {Object} $current Internal definition of object representing the current state.\n   * @param {Object} $to Internal definition of object representing state to transition to.\n   */\n  $inherit(newParams: Obj, $current: StateObject, $to: StateObject) {\n    let parentParams: string[];\n    const parents = ancestors($current, $to),\n      inherited: Obj = {},\n      inheritList: string[] = [];\n\n    for (const i in parents) {\n      if (!parents[i] || !parents[i].params) continue;\n      parentParams = Object.keys(parents[i].params);\n      if (!parentParams.length) continue;\n\n      for (const j in parentParams) {\n        if (inheritList.indexOf(parentParams[j]) >= 0) continue;\n        inheritList.push(parentParams[j]);\n        inherited[parentParams[j]] = this[parentParams[j]];\n      }\n    }\n    return extend({}, inherited, newParams);\n  }\n}\n"]},"metadata":{},"sourceType":"module"}