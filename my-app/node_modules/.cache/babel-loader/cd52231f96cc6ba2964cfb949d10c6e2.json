{"ast":null,"code":"import { pushTo } from './common';\n\nvar Queue =\n/** @class */\nfunction () {\n  function Queue(_items, _limit) {\n    if (_items === void 0) {\n      _items = [];\n    }\n\n    if (_limit === void 0) {\n      _limit = null;\n    }\n\n    this._items = _items;\n    this._limit = _limit;\n    this._evictListeners = [];\n    this.onEvict = pushTo(this._evictListeners);\n  }\n\n  Queue.prototype.enqueue = function (item) {\n    var items = this._items;\n    items.push(item);\n    if (this._limit && items.length > this._limit) this.evict();\n    return item;\n  };\n\n  Queue.prototype.evict = function () {\n    var item = this._items.shift();\n\n    this._evictListeners.forEach(function (fn) {\n      return fn(item);\n    });\n\n    return item;\n  };\n\n  Queue.prototype.dequeue = function () {\n    if (this.size()) return this._items.splice(0, 1)[0];\n  };\n\n  Queue.prototype.clear = function () {\n    var current = this._items;\n    this._items = [];\n    return current;\n  };\n\n  Queue.prototype.size = function () {\n    return this._items.length;\n  };\n\n  Queue.prototype.remove = function (item) {\n    var idx = this._items.indexOf(item);\n\n    return idx > -1 && this._items.splice(idx, 1)[0];\n  };\n\n  Queue.prototype.peekTail = function () {\n    return this._items[this._items.length - 1];\n  };\n\n  Queue.prototype.peekHead = function () {\n    if (this.size()) return this._items[0];\n  };\n\n  return Queue;\n}();\n\nexport { Queue };","map":{"version":3,"mappings":"AAAA,SAASA,MAAT,QAAuB,UAAvB;;AAEA;AAAA;AAAA;EAIE,eAAoBC,MAApB,EAA8CC,MAA9C,EAAmE;IAA/C;MAAAD;IAAgB;;IAAU;MAAAC;IAAqB;;IAA/C;IAA0B;IAHtC,uBAAyC,EAAzC;IACD,eAAUF,MAAM,CAAC,KAAKG,eAAN,CAAhB;EAEgE;;EAEvEC,oCAAQC,IAAR,EAAe;IACb,IAAMC,KAAK,GAAG,KAAKL,MAAnB;IACAK,KAAK,CAACC,IAAN,CAAWF,IAAX;IACA,IAAI,KAAKH,MAAL,IAAeI,KAAK,CAACE,MAAN,GAAe,KAAKN,MAAvC,EAA+C,KAAKO,KAAL;IAC/C,OAAOJ,IAAP;EACD,CALD;;EAOAD;IACE,IAAMC,IAAI,GAAM,KAAKJ,MAAL,CAAYS,KAAZ,EAAhB;;IACA,KAAKP,eAAL,CAAqBQ,OAArB,CAA6B,UAACC,EAAD,EAAG;MAAK,SAAE,CAACP,IAAD,CAAF;IAAQ,CAA7C;;IACA,OAAOA,IAAP;EACD,CAJD;;EAMAD;IACE,IAAI,KAAKS,IAAL,EAAJ,EAAiB,OAAO,KAAKZ,MAAL,CAAYa,MAAZ,CAAmB,CAAnB,EAAsB,CAAtB,EAAyB,CAAzB,CAAP;EAClB,CAFD;;EAIAV;IACE,IAAMW,OAAO,GAAG,KAAKd,MAArB;IACA,KAAKA,MAAL,GAAc,EAAd;IACA,OAAOc,OAAP;EACD,CAJD;;EAMAX;IACE,OAAO,KAAKH,MAAL,CAAYO,MAAnB;EACD,CAFD;;EAIAJ,mCAAOC,IAAP,EAAc;IACZ,IAAMW,GAAG,GAAG,KAAKf,MAAL,CAAYgB,OAAZ,CAAoBZ,IAApB,CAAZ;;IACA,OAAOW,GAAG,GAAG,CAAC,CAAP,IAAY,KAAKf,MAAL,CAAYa,MAAZ,CAAmBE,GAAnB,EAAwB,CAAxB,EAA2B,CAA3B,CAAnB;EACD,CAHD;;EAKAZ;IACE,OAAO,KAAKH,MAAL,CAAY,KAAKA,MAAL,CAAYO,MAAZ,GAAqB,CAAjC,CAAP;EACD,CAFD;;EAIAJ;IACE,IAAI,KAAKS,IAAL,EAAJ,EAAiB,OAAO,KAAKZ,MAAL,CAAY,CAAZ,CAAP;EAClB,CAFD;;EAGF;AAAC,CA7CD","names":["pushTo","_items","_limit","_evictListeners","Queue","item","items","push","length","evict","shift","forEach","fn","size","splice","current","idx","indexOf"],"sources":["C:\\Users\\huang\\node_modules\\@uirouter\\core\\lib-esm\\common\\@uirouter\\core\\common\\queue.ts"],"sourcesContent":["import { pushTo } from './common';\n\nexport class Queue<T> {\n  private _evictListeners: ((item: T) => void)[] = [];\n  public onEvict = pushTo(this._evictListeners);\n\n  constructor(private _items: T[] = [], private _limit: number = null) {}\n\n  enqueue(item: T) {\n    const items = this._items;\n    items.push(item);\n    if (this._limit && items.length > this._limit) this.evict();\n    return item;\n  }\n\n  evict(): T {\n    const item: T = this._items.shift();\n    this._evictListeners.forEach((fn) => fn(item));\n    return item;\n  }\n\n  dequeue(): T {\n    if (this.size()) return this._items.splice(0, 1)[0];\n  }\n\n  clear(): Array<T> {\n    const current = this._items;\n    this._items = [];\n    return current;\n  }\n\n  size(): number {\n    return this._items.length;\n  }\n\n  remove(item: T) {\n    const idx = this._items.indexOf(item);\n    return idx > -1 && this._items.splice(idx, 1)[0];\n  }\n\n  peekTail(): T {\n    return this._items[this._items.length - 1];\n  }\n\n  peekHead(): T {\n    if (this.size()) return this._items[0];\n  }\n}\n"]},"metadata":{},"sourceType":"module"}