{"ast":null,"code":"var __spreadArrays = this && this.__spreadArrays || function () {\n  for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\n\n  for (var r = Array(s), k = 0, i = 0; i < il; i++) for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++) r[k] = a[j];\n\n  return r;\n};\n/**\n * Random utility functions used in the UI-Router code\n *\n * These functions are exported, but are subject to change without notice.\n *\n * @packageDocumentation\n * @preferred\n */\n\n\nimport { isFunction, isString, isArray, isRegExp, isDate } from './predicates';\nimport { all, any, prop, curry, not } from './hof';\nimport { services } from './coreservices';\nexport var root = typeof self === 'object' && self.self === self && self || typeof global === 'object' && global.global === global && global || this;\nvar angular = root.angular || {};\nexport var fromJson = angular.fromJson || JSON.parse.bind(JSON);\nexport var toJson = angular.toJson || JSON.stringify.bind(JSON);\nexport var forEach = angular.forEach || _forEach;\nexport var extend = Object.assign || _extend;\nexport var equals = angular.equals || _equals;\nexport function identity(x) {\n  return x;\n}\nexport function noop() {}\n/**\n * Builds proxy functions on the `to` object which pass through to the `from` object.\n *\n * For each key in `fnNames`, creates a proxy function on the `to` object.\n * The proxy function calls the real function on the `from` object.\n *\n *\n * #### Example:\n * This example creates an new class instance whose functions are prebound to the new'd object.\n * ```js\n * class Foo {\n *   constructor(data) {\n *     // Binds all functions from Foo.prototype to 'this',\n *     // then copies them to 'this'\n *     bindFunctions(Foo.prototype, this, this);\n *     this.data = data;\n *   }\n *\n *   log() {\n *     console.log(this.data);\n *   }\n * }\n *\n * let myFoo = new Foo([1,2,3]);\n * var logit = myFoo.log;\n * logit(); // logs [1, 2, 3] from the myFoo 'this' instance\n * ```\n *\n * #### Example:\n * This example creates a bound version of a service function, and copies it to another object\n * ```\n *\n * var SomeService = {\n *   this.data = [3, 4, 5];\n *   this.log = function() {\n *     console.log(this.data);\n *   }\n * }\n *\n * // Constructor fn\n * function OtherThing() {\n *   // Binds all functions from SomeService to SomeService,\n *   // then copies them to 'this'\n *   bindFunctions(SomeService, this, SomeService);\n * }\n *\n * let myOtherThing = new OtherThing();\n * myOtherThing.log(); // logs [3, 4, 5] from SomeService's 'this'\n * ```\n *\n * @param source A function that returns the source object which contains the original functions to be bound\n * @param target A function that returns the target object which will receive the bound functions\n * @param bind A function that returns the object which the functions will be bound to\n * @param fnNames The function names which will be bound (Defaults to all the functions found on the 'from' object)\n * @param latebind If true, the binding of the function is delayed until the first time it's invoked\n */\n\nexport function createProxyFunctions(source, target, bind, fnNames, latebind) {\n  if (latebind === void 0) {\n    latebind = false;\n  }\n\n  var bindFunction = function (fnName) {\n    return source()[fnName].bind(bind());\n  };\n\n  var makeLateRebindFn = function (fnName) {\n    return function lateRebindFunction() {\n      target[fnName] = bindFunction(fnName);\n      return target[fnName].apply(null, arguments);\n    };\n  };\n\n  fnNames = fnNames || Object.keys(source());\n  return fnNames.reduce(function (acc, name) {\n    acc[name] = latebind ? makeLateRebindFn(name) : bindFunction(name);\n    return acc;\n  }, target);\n}\n/**\n * prototypal inheritance helper.\n * Creates a new object which has `parent` object as its prototype, and then copies the properties from `extra` onto it\n */\n\nexport var inherit = function (parent, extra) {\n  return extend(Object.create(parent), extra);\n};\n/** Given an array, returns true if the object is found in the array, (using indexOf) */\n\nexport var inArray = curry(_inArray);\nexport function _inArray(array, obj) {\n  return array.indexOf(obj) !== -1;\n}\n/**\n * Given an array, and an item, if the item is found in the array, it removes it (in-place).\n * The same array is returned\n */\n\nexport var removeFrom = curry(_removeFrom);\nexport function _removeFrom(array, obj) {\n  var idx = array.indexOf(obj);\n  if (idx >= 0) array.splice(idx, 1);\n  return array;\n}\n/** pushes a values to an array and returns the value */\n\nexport var pushTo = curry(_pushTo);\nexport function _pushTo(arr, val) {\n  return arr.push(val), val;\n}\n/** Given an array of (deregistration) functions, calls all functions and removes each one from the source array */\n\nexport var deregAll = function (functions) {\n  return functions.slice().forEach(function (fn) {\n    typeof fn === 'function' && fn();\n    removeFrom(functions, fn);\n  });\n};\n/**\n * Applies a set of defaults to an options object.  The options object is filtered\n * to only those properties of the objects in the defaultsList.\n * Earlier objects in the defaultsList take precedence when applying defaults.\n */\n\nexport function defaults(opts) {\n  var defaultsList = [];\n\n  for (var _i = 1; _i < arguments.length; _i++) {\n    defaultsList[_i - 1] = arguments[_i];\n  }\n\n  var defaultVals = extend.apply(void 0, __spreadArrays([{}], defaultsList.reverse()));\n  return extend(defaultVals, pick(opts || {}, Object.keys(defaultVals)));\n}\n/** Reduce function that merges each element of the list into a single object, using extend */\n\nexport var mergeR = function (memo, item) {\n  return extend(memo, item);\n};\n/**\n * Finds the common ancestor path between two states.\n *\n * @param {Object} first The first state.\n * @param {Object} second The second state.\n * @return {Array} Returns an array of state names in descending order, not including the root.\n */\n\nexport function ancestors(first, second) {\n  var path = []; // tslint:disable-next-line:forin\n\n  for (var n in first.path) {\n    if (first.path[n] !== second.path[n]) break;\n    path.push(first.path[n]);\n  }\n\n  return path;\n}\n/**\n * Return a copy of the object only containing the whitelisted properties.\n *\n * #### Example:\n * ```\n * var foo = { a: 1, b: 2, c: 3 };\n * var ab = pick(foo, ['a', 'b']); // { a: 1, b: 2 }\n * ```\n * @param obj the source object\n * @param propNames an Array of strings, which are the whitelisted property names\n */\n\nexport function pick(obj, propNames) {\n  var objCopy = {};\n\n  for (var _prop in obj) {\n    if (propNames.indexOf(_prop) !== -1) {\n      objCopy[_prop] = obj[_prop];\n    }\n  }\n\n  return objCopy;\n}\n/**\n * Return a copy of the object omitting the blacklisted properties.\n *\n * @example\n * ```\n *\n * var foo = { a: 1, b: 2, c: 3 };\n * var ab = omit(foo, ['a', 'b']); // { c: 3 }\n * ```\n * @param obj the source object\n * @param propNames an Array of strings, which are the blacklisted property names\n */\n\nexport function omit(obj, propNames) {\n  return Object.keys(obj).filter(not(inArray(propNames))).reduce(function (acc, key) {\n    return acc[key] = obj[key], acc;\n  }, {});\n}\n/**\n * Maps an array, or object to a property (by name)\n */\n\nexport function pluck(collection, propName) {\n  return map(collection, prop(propName));\n}\n/** Filters an Array or an Object's properties based on a predicate */\n\nexport function filter(collection, callback) {\n  var arr = isArray(collection),\n      result = arr ? [] : {};\n  var accept = arr ? function (x) {\n    return result.push(x);\n  } : function (x, key) {\n    return result[key] = x;\n  };\n  forEach(collection, function (item, i) {\n    if (callback(item, i)) accept(item, i);\n  });\n  return result;\n}\n/** Finds an object from an array, or a property of an object, that matches a predicate */\n\nexport function find(collection, callback) {\n  var result;\n  forEach(collection, function (item, i) {\n    if (result) return;\n    if (callback(item, i)) result = item;\n  });\n  return result;\n}\n/** Given an object, returns a new object, where each property is transformed by the callback function */\n\nexport var mapObj = map;\n/** Maps an array or object properties using a callback function */\n\nexport function map(collection, callback, target) {\n  target = target || (isArray(collection) ? [] : {});\n  forEach(collection, function (item, i) {\n    return target[i] = callback(item, i);\n  });\n  return target;\n}\n/**\n * Given an object, return its enumerable property values\n *\n * @example\n * ```\n *\n * let foo = { a: 1, b: 2, c: 3 }\n * let vals = values(foo); // [ 1, 2, 3 ]\n * ```\n */\n\nexport var values = function (obj) {\n  return Object.keys(obj).map(function (key) {\n    return obj[key];\n  });\n};\n/**\n * Reduce function that returns true if all of the values are truthy.\n *\n * @example\n * ```\n *\n * let vals = [ 1, true, {}, \"hello world\"];\n * vals.reduce(allTrueR, true); // true\n *\n * vals.push(0);\n * vals.reduce(allTrueR, true); // false\n * ```\n */\n\nexport var allTrueR = function (memo, elem) {\n  return memo && elem;\n};\n/**\n * Reduce function that returns true if any of the values are truthy.\n *\n *  * @example\n * ```\n *\n * let vals = [ 0, null, undefined ];\n * vals.reduce(anyTrueR, true); // false\n *\n * vals.push(\"hello world\");\n * vals.reduce(anyTrueR, true); // true\n * ```\n */\n\nexport var anyTrueR = function (memo, elem) {\n  return memo || elem;\n};\n/**\n * Reduce function which un-nests a single level of arrays\n * @example\n * ```\n *\n * let input = [ [ \"a\", \"b\" ], [ \"c\", \"d\" ], [ [ \"double\", \"nested\" ] ] ];\n * input.reduce(unnestR, []) // [ \"a\", \"b\", \"c\", \"d\", [ \"double, \"nested\" ] ]\n * ```\n */\n\nexport var unnestR = function (memo, elem) {\n  return memo.concat(elem);\n};\n/**\n * Reduce function which recursively un-nests all arrays\n *\n * @example\n * ```\n *\n * let input = [ [ \"a\", \"b\" ], [ \"c\", \"d\" ], [ [ \"double\", \"nested\" ] ] ];\n * input.reduce(unnestR, []) // [ \"a\", \"b\", \"c\", \"d\", \"double, \"nested\" ]\n * ```\n */\n\nexport var flattenR = function (memo, elem) {\n  return isArray(elem) ? memo.concat(elem.reduce(flattenR, [])) : pushR(memo, elem);\n};\n/**\n * Reduce function that pushes an object to an array, then returns the array.\n * Mostly just for [[flattenR]] and [[uniqR]]\n */\n\nexport function pushR(arr, obj) {\n  arr.push(obj);\n  return arr;\n}\n/** Reduce function that filters out duplicates */\n\nexport var uniqR = function (acc, token) {\n  return inArray(acc, token) ? acc : pushR(acc, token);\n};\n/**\n * Return a new array with a single level of arrays unnested.\n *\n * @example\n * ```\n *\n * let input = [ [ \"a\", \"b\" ], [ \"c\", \"d\" ], [ [ \"double\", \"nested\" ] ] ];\n * unnest(input) // [ \"a\", \"b\", \"c\", \"d\", [ \"double, \"nested\" ] ]\n * ```\n */\n\nexport var unnest = function (arr) {\n  return arr.reduce(unnestR, []);\n};\n/**\n * Return a completely flattened version of an array.\n *\n * @example\n * ```\n *\n * let input = [ [ \"a\", \"b\" ], [ \"c\", \"d\" ], [ [ \"double\", \"nested\" ] ] ];\n * flatten(input) // [ \"a\", \"b\", \"c\", \"d\", \"double, \"nested\" ]\n * ```\n */\n\nexport var flatten = function (arr) {\n  return arr.reduce(flattenR, []);\n};\n/**\n * Given a .filter Predicate, builds a .filter Predicate which throws an error if any elements do not pass.\n * @example\n * ```\n *\n * let isNumber = (obj) => typeof(obj) === 'number';\n * let allNumbers = [ 1, 2, 3, 4, 5 ];\n * allNumbers.filter(assertPredicate(isNumber)); //OK\n *\n * let oneString = [ 1, 2, 3, 4, \"5\" ];\n * oneString.filter(assertPredicate(isNumber, \"Not all numbers\")); // throws Error(\"\"Not all numbers\"\");\n * ```\n */\n\nexport var assertPredicate = assertFn;\n/**\n * Given a .map function, builds a .map function which throws an error if any mapped elements do not pass a truthyness test.\n * @example\n * ```\n *\n * var data = { foo: 1, bar: 2 };\n *\n * let keys = [ 'foo', 'bar' ]\n * let values = keys.map(assertMap(key => data[key], \"Key not found\"));\n * // values is [1, 2]\n *\n * let keys = [ 'foo', 'bar', 'baz' ]\n * let values = keys.map(assertMap(key => data[key], \"Key not found\"));\n * // throws Error(\"Key not found\")\n * ```\n */\n\nexport var assertMap = assertFn;\nexport function assertFn(predicateOrMap, errMsg) {\n  if (errMsg === void 0) {\n    errMsg = 'assert failure';\n  }\n\n  return function (obj) {\n    var result = predicateOrMap(obj);\n\n    if (!result) {\n      throw new Error(isFunction(errMsg) ? errMsg(obj) : errMsg);\n    }\n\n    return result;\n  };\n}\n/**\n * Like _.pairs: Given an object, returns an array of key/value pairs\n *\n * @example\n * ```\n *\n * pairs({ foo: \"FOO\", bar: \"BAR }) // [ [ \"foo\", \"FOO\" ], [ \"bar\": \"BAR\" ] ]\n * ```\n */\n\nexport var pairs = function (obj) {\n  return Object.keys(obj).map(function (key) {\n    return [key, obj[key]];\n  });\n};\n/**\n * Given two or more parallel arrays, returns an array of tuples where\n * each tuple is composed of [ a[i], b[i], ... z[i] ]\n *\n * @example\n * ```\n *\n * let foo = [ 0, 2, 4, 6 ];\n * let bar = [ 1, 3, 5, 7 ];\n * let baz = [ 10, 30, 50, 70 ];\n * arrayTuples(foo, bar);       // [ [0, 1], [2, 3], [4, 5], [6, 7] ]\n * arrayTuples(foo, bar, baz);  // [ [0, 1, 10], [2, 3, 30], [4, 5, 50], [6, 7, 70] ]\n * ```\n */\n\nexport function arrayTuples() {\n  var args = [];\n\n  for (var _i = 0; _i < arguments.length; _i++) {\n    args[_i] = arguments[_i];\n  }\n\n  if (args.length === 0) return [];\n  var maxArrayLen = args.reduce(function (min, arr) {\n    return Math.min(arr.length, min);\n  }, 9007199254740991); // aka 2^53 − 1 aka Number.MAX_SAFE_INTEGER\n\n  var result = [];\n\n  var _loop_1 = function (i) {\n    // This is a hot function\n    // Unroll when there are 1-4 arguments\n    switch (args.length) {\n      case 1:\n        result.push([args[0][i]]);\n        break;\n\n      case 2:\n        result.push([args[0][i], args[1][i]]);\n        break;\n\n      case 3:\n        result.push([args[0][i], args[1][i], args[2][i]]);\n        break;\n\n      case 4:\n        result.push([args[0][i], args[1][i], args[2][i], args[3][i]]);\n        break;\n\n      default:\n        result.push(args.map(function (array) {\n          return array[i];\n        }));\n        break;\n    }\n  };\n\n  for (var i = 0; i < maxArrayLen; i++) {\n    _loop_1(i);\n  }\n\n  return result;\n}\n/**\n * Reduce function which builds an object from an array of [key, value] pairs.\n *\n * Each iteration sets the key/val pair on the memo object, then returns the memo for the next iteration.\n *\n * Each keyValueTuple should be an array with values [ key: string, value: any ]\n *\n * @example\n * ```\n *\n * var pairs = [ [\"fookey\", \"fooval\"], [\"barkey\", \"barval\"] ]\n *\n * var pairsToObj = pairs.reduce((memo, pair) => applyPairs(memo, pair), {})\n * // pairsToObj == { fookey: \"fooval\", barkey: \"barval\" }\n *\n * // Or, more simply:\n * var pairsToObj = pairs.reduce(applyPairs, {})\n * // pairsToObj == { fookey: \"fooval\", barkey: \"barval\" }\n * ```\n */\n\nexport function applyPairs(memo, keyValTuple) {\n  var key, value;\n  if (isArray(keyValTuple)) key = keyValTuple[0], value = keyValTuple[1];\n  if (!isString(key)) throw new Error('invalid parameters to applyPairs');\n  memo[key] = value;\n  return memo;\n}\n/** Get the last element of an array */\n\nexport function tail(arr) {\n  return arr.length && arr[arr.length - 1] || undefined;\n}\n/**\n * shallow copy from src to dest\n */\n\nexport function copy(src, dest) {\n  if (dest) Object.keys(dest).forEach(function (key) {\n    return delete dest[key];\n  });\n  if (!dest) dest = {};\n  return extend(dest, src);\n}\n/** Naive forEach implementation works with Objects or Arrays */\n\nfunction _forEach(obj, cb, _this) {\n  if (isArray(obj)) return obj.forEach(cb, _this);\n  Object.keys(obj).forEach(function (key) {\n    return cb(obj[key], key);\n  });\n}\n\nexport function _extend(toObj) {\n  for (var i = 1; i < arguments.length; i++) {\n    var obj = arguments[i];\n    if (!obj) continue;\n    var keys = Object.keys(obj);\n\n    for (var j = 0; j < keys.length; j++) {\n      toObj[keys[j]] = obj[keys[j]];\n    }\n  }\n\n  return toObj;\n}\n\nfunction _equals(o1, o2) {\n  if (o1 === o2) return true;\n  if (o1 === null || o2 === null) return false;\n  if (o1 !== o1 && o2 !== o2) return true; // NaN === NaN\n\n  var t1 = typeof o1,\n      t2 = typeof o2;\n  if (t1 !== t2 || t1 !== 'object') return false;\n  var tup = [o1, o2];\n  if (all(isArray)(tup)) return _arraysEq(o1, o2);\n  if (all(isDate)(tup)) return o1.getTime() === o2.getTime();\n  if (all(isRegExp)(tup)) return o1.toString() === o2.toString();\n  if (all(isFunction)(tup)) return true; // meh\n\n  var predicates = [isFunction, isArray, isDate, isRegExp];\n  if (predicates.map(any).reduce(function (b, fn) {\n    return b || !!fn(tup);\n  }, false)) return false;\n  var keys = {}; // tslint:disable-next-line:forin\n\n  for (var key in o1) {\n    if (!_equals(o1[key], o2[key])) return false;\n    keys[key] = true;\n  }\n\n  for (var key in o2) {\n    if (!keys[key]) return false;\n  }\n\n  return true;\n}\n\nfunction _arraysEq(a1, a2) {\n  if (a1.length !== a2.length) return false;\n  return arrayTuples(a1, a2).reduce(function (b, t) {\n    return b && _equals(t[0], t[1]);\n  }, true);\n} // issue #2676\n\n\nexport var silenceUncaughtInPromise = function (promise) {\n  return promise.catch(function (e) {\n    return 0;\n  }) && promise;\n};\nexport var silentRejection = function (error) {\n  return silenceUncaughtInPromise(services.$q.reject(error));\n};","map":{"version":3,"mappings":"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","names":["isFunction","isString","isArray","isRegExp","isDate","all","any","prop","curry","not","services","root","self","global","angular","fromJson","JSON","parse","bind","toJson","stringify","forEach","_forEach","extend","Object","assign","_extend","equals","_equals","identity","x","noop","createProxyFunctions","source","target","fnNames","latebind","bindFunction","fnName","makeLateRebindFn","lateRebindFunction","apply","arguments","keys","reduce","acc","name","inherit","parent","extra","create","inArray","_inArray","array","obj","indexOf","removeFrom","_removeFrom","idx","splice","pushTo","_pushTo","arr","val","push","deregAll","functions","slice","fn","defaults","opts","defaultsList","defaultVals","__spreadArrays","reverse","pick","mergeR","memo","item","ancestors","first","second","path","n","propNames","objCopy","_prop","omit","filter","key","pluck","collection","propName","map","callback","result","accept","i","find","mapObj","values","allTrueR","elem","anyTrueR","unnestR","concat","flattenR","pushR","uniqR","token","unnest","flatten","assertPredicate","assertFn","assertMap","predicateOrMap","errMsg","Error","pairs","arrayTuples","args","length","maxArrayLen","min","applyPairs","keyValTuple","value","tail","undefined","copy","src","dest","cb","_this","toObj","j","o1","o2","t1","t2","tup","_arraysEq","getTime","toString","predicates","b","a1","a2","t","silenceUncaughtInPromise","promise","catch","e","silentRejection","error","$q","reject"],"sources":["C:\\Users\\huang\\node_modules\\@uirouter\\core\\lib-esm\\common\\@uirouter\\core\\common\\common.ts"],"sourcesContent":["/**\n * Random utility functions used in the UI-Router code\n *\n * These functions are exported, but are subject to change without notice.\n *\n * @packageDocumentation\n * @preferred\n */\nimport { isFunction, isString, isArray, isRegExp, isDate } from './predicates';\nimport { all, any, prop, curry, not } from './hof';\nimport { services } from './coreservices';\nimport { StateObject } from '../state/stateObject';\n\ndeclare const global;\nexport const root: any =\n  (typeof self === 'object' && self.self === self && self) ||\n  (typeof global === 'object' && global.global === global && global) ||\n  this;\nconst angular = root.angular || {};\n\nexport const fromJson = angular.fromJson || JSON.parse.bind(JSON);\nexport const toJson = angular.toJson || JSON.stringify.bind(JSON);\nexport const forEach = angular.forEach || _forEach;\nexport const extend = Object.assign || _extend;\nexport const equals = angular.equals || _equals;\nexport function identity(x: any) {\n  return x;\n}\nexport function noop(): any {}\n\nexport type Mapper<X, T> = (x: X, key?: string | number) => T;\nexport interface TypedMap<T> {\n  [key: string]: T;\n}\nexport type Predicate<X> = (x?: X) => boolean;\nexport type PredicateBinary<X, Y> = (x?: X, y?: Y) => boolean;\n/**\n * An ng1-style injectable\n *\n * This could be a (non-minified) function such as:\n * ```js\n * function injectableFunction(SomeDependency) {\n *\n * }\n * ```\n *\n * or an explicitly annotated function (minify safe)\n * ```js\n * injectableFunction.$inject = [ 'SomeDependency' ];\n * function injectableFunction(SomeDependency) {\n *\n * }\n * ```\n *\n * or an array style annotated function (minify safe)\n * ```js\n * ['SomeDependency', function injectableFunction(SomeDependency) {\n *\n * }];\n * ```\n */\nexport type IInjectable = Function | any[];\n\nexport interface Obj extends Object {\n  [key: string]: any;\n}\n\n/**\n * Builds proxy functions on the `to` object which pass through to the `from` object.\n *\n * For each key in `fnNames`, creates a proxy function on the `to` object.\n * The proxy function calls the real function on the `from` object.\n *\n *\n * #### Example:\n * This example creates an new class instance whose functions are prebound to the new'd object.\n * ```js\n * class Foo {\n *   constructor(data) {\n *     // Binds all functions from Foo.prototype to 'this',\n *     // then copies them to 'this'\n *     bindFunctions(Foo.prototype, this, this);\n *     this.data = data;\n *   }\n *\n *   log() {\n *     console.log(this.data);\n *   }\n * }\n *\n * let myFoo = new Foo([1,2,3]);\n * var logit = myFoo.log;\n * logit(); // logs [1, 2, 3] from the myFoo 'this' instance\n * ```\n *\n * #### Example:\n * This example creates a bound version of a service function, and copies it to another object\n * ```\n *\n * var SomeService = {\n *   this.data = [3, 4, 5];\n *   this.log = function() {\n *     console.log(this.data);\n *   }\n * }\n *\n * // Constructor fn\n * function OtherThing() {\n *   // Binds all functions from SomeService to SomeService,\n *   // then copies them to 'this'\n *   bindFunctions(SomeService, this, SomeService);\n * }\n *\n * let myOtherThing = new OtherThing();\n * myOtherThing.log(); // logs [3, 4, 5] from SomeService's 'this'\n * ```\n *\n * @param source A function that returns the source object which contains the original functions to be bound\n * @param target A function that returns the target object which will receive the bound functions\n * @param bind A function that returns the object which the functions will be bound to\n * @param fnNames The function names which will be bound (Defaults to all the functions found on the 'from' object)\n * @param latebind If true, the binding of the function is delayed until the first time it's invoked\n */\nexport function createProxyFunctions(\n  source: Function,\n  target: Obj,\n  bind: Function,\n  fnNames?: string[],\n  latebind = false\n): Obj {\n  const bindFunction = (fnName) => source()[fnName].bind(bind());\n\n  const makeLateRebindFn = (fnName) =>\n    function lateRebindFunction() {\n      target[fnName] = bindFunction(fnName);\n      return target[fnName].apply(null, arguments);\n    };\n\n  fnNames = fnNames || Object.keys(source());\n\n  return fnNames.reduce((acc, name) => {\n    acc[name] = latebind ? makeLateRebindFn(name) : bindFunction(name);\n    return acc;\n  }, target);\n}\n\n/**\n * prototypal inheritance helper.\n * Creates a new object which has `parent` object as its prototype, and then copies the properties from `extra` onto it\n */\nexport const inherit = (parent: Obj, extra?: Obj) => extend(Object.create(parent), extra);\n\n/** Given an array, returns true if the object is found in the array, (using indexOf) */\nexport const inArray: typeof _inArray = curry(_inArray) as any;\nexport function _inArray(array: any[], obj: any): boolean;\nexport function _inArray(array: any[]): (obj: any) => boolean;\nexport function _inArray(array, obj?): any {\n  return array.indexOf(obj) !== -1;\n}\n\n/**\n * Given an array, and an item, if the item is found in the array, it removes it (in-place).\n * The same array is returned\n */\nexport const removeFrom: typeof _removeFrom = curry(_removeFrom) as any;\nexport function _removeFrom<T>(array: T[], obj: T): T[];\nexport function _removeFrom<T>(array: T[]): (obj: T) => T[];\nexport function _removeFrom(array, obj?) {\n  const idx = array.indexOf(obj);\n  if (idx >= 0) array.splice(idx, 1);\n  return array;\n}\n\n/** pushes a values to an array and returns the value */\nexport const pushTo: typeof _pushTo = curry(_pushTo) as any;\nexport function _pushTo<T>(arr: T[], val: T): T;\nexport function _pushTo<T>(arr: T[]): (val: T) => T;\nexport function _pushTo(arr, val?): any {\n  return arr.push(val), val;\n}\n\n/** Given an array of (deregistration) functions, calls all functions and removes each one from the source array */\nexport const deregAll = (functions: Function[]) =>\n  functions.slice().forEach((fn) => {\n    typeof fn === 'function' && fn();\n    removeFrom(functions, fn);\n  });\n/**\n * Applies a set of defaults to an options object.  The options object is filtered\n * to only those properties of the objects in the defaultsList.\n * Earlier objects in the defaultsList take precedence when applying defaults.\n */\nexport function defaults(opts, ...defaultsList: Obj[]) {\n  const defaultVals = extend({}, ...defaultsList.reverse());\n  return extend(defaultVals, pick(opts || {}, Object.keys(defaultVals)));\n}\n\n/** Reduce function that merges each element of the list into a single object, using extend */\nexport const mergeR = (memo: Obj, item: Obj) => extend(memo, item);\n\n/**\n * Finds the common ancestor path between two states.\n *\n * @param {Object} first The first state.\n * @param {Object} second The second state.\n * @return {Array} Returns an array of state names in descending order, not including the root.\n */\nexport function ancestors(first: StateObject, second: StateObject) {\n  const path: StateObject[] = [];\n\n  // tslint:disable-next-line:forin\n  for (const n in first.path) {\n    if (first.path[n] !== second.path[n]) break;\n    path.push(first.path[n]);\n  }\n  return path;\n}\n\n/**\n * Return a copy of the object only containing the whitelisted properties.\n *\n * #### Example:\n * ```\n * var foo = { a: 1, b: 2, c: 3 };\n * var ab = pick(foo, ['a', 'b']); // { a: 1, b: 2 }\n * ```\n * @param obj the source object\n * @param propNames an Array of strings, which are the whitelisted property names\n */\nexport function pick(obj: Obj, propNames: string[]): Obj {\n  const objCopy = {};\n  for (const _prop in obj) {\n    if (propNames.indexOf(_prop) !== -1) {\n      objCopy[_prop] = obj[_prop];\n    }\n  }\n  return objCopy;\n}\n\n/**\n * Return a copy of the object omitting the blacklisted properties.\n *\n * @example\n * ```\n *\n * var foo = { a: 1, b: 2, c: 3 };\n * var ab = omit(foo, ['a', 'b']); // { c: 3 }\n * ```\n * @param obj the source object\n * @param propNames an Array of strings, which are the blacklisted property names\n */\nexport function omit(obj: Obj, propNames: string[]): Obj {\n  return Object.keys(obj)\n    .filter(not(inArray(propNames)))\n    .reduce((acc, key) => ((acc[key] = obj[key]), acc), {});\n}\n\n/** Given an array of objects, maps each element to a named property of the element. */\nexport function pluck<T>(collection: Obj[], propName: string): T[];\n/** Given an object, maps each property of the object to a named property of the property. */\nexport function pluck(collection: { [key: string]: any }, propName: string): { [key: string]: any };\n/**\n * Maps an array, or object to a property (by name)\n */\nexport function pluck(collection: any, propName: string): any {\n  return map(collection, <Mapper<any, string>>prop(propName));\n}\n\n/** Given an array of objects, returns a new array containing only the elements which passed the callback predicate */\nexport function filter<T>(collection: T[], callback: (t: T, key?: number) => boolean): T[];\n/** Given an object, returns a new object with only those properties that passed the callback predicate */\nexport function filter<T>(collection: TypedMap<T>, callback: (t: T, key?: string) => boolean): TypedMap<T>;\n/** Filters an Array or an Object's properties based on a predicate */\nexport function filter<T>(collection: any, callback: Function): T {\n  const arr = isArray(collection),\n    result: any = arr ? [] : {};\n  const accept = arr ? (x) => result.push(x) : (x, key) => (result[key] = x);\n  forEach(collection, function (item, i) {\n    if (callback(item, i)) accept(item, i);\n  });\n  return <T>result;\n}\n\n/** Given an object, return the first property of that object which passed the callback predicate */\nexport function find<T>(collection: TypedMap<T>, callback: Predicate<T>): T;\n/** Given an array of objects, returns the first object which passed the callback predicate */\nexport function find<T>(collection: T[], callback: Predicate<T>): T;\n/** Finds an object from an array, or a property of an object, that matches a predicate */\nexport function find(collection: any, callback: any) {\n  let result;\n\n  forEach(collection, function (item, i) {\n    if (result) return;\n    if (callback(item, i)) result = item;\n  });\n\n  return result;\n}\n\n/** Given an object, returns a new object, where each property is transformed by the callback function */\nexport let mapObj: <T, U>(\n  collection: { [key: string]: T },\n  callback: Mapper<T, U>,\n  target?: typeof collection\n) => { [key: string]: U } = map;\n/** Given an array, returns a new array, where each element is transformed by the callback function */\nexport function map<T, U>(collection: T[], callback: Mapper<T, U>, target?: typeof collection): U[];\nexport function map<T, U>(\n  collection: { [key: string]: T },\n  callback: Mapper<T, U>,\n  target?: typeof collection\n): { [key: string]: U };\n/** Maps an array or object properties using a callback function */\nexport function map(collection: any, callback: any, target: typeof collection): any {\n  target = target || (isArray(collection) ? [] : {});\n  forEach(collection, (item, i) => (target[i] = callback(item, i)));\n  return target;\n}\n\n/**\n * Given an object, return its enumerable property values\n *\n * @example\n * ```\n *\n * let foo = { a: 1, b: 2, c: 3 }\n * let vals = values(foo); // [ 1, 2, 3 ]\n * ```\n */\nexport const values: <T>(obj: TypedMap<T>) => T[] = (obj: Obj) => Object.keys(obj).map((key) => obj[key]);\n\n/**\n * Reduce function that returns true if all of the values are truthy.\n *\n * @example\n * ```\n *\n * let vals = [ 1, true, {}, \"hello world\"];\n * vals.reduce(allTrueR, true); // true\n *\n * vals.push(0);\n * vals.reduce(allTrueR, true); // false\n * ```\n */\nexport const allTrueR = (memo: boolean, elem: any) => memo && elem;\n\n/**\n * Reduce function that returns true if any of the values are truthy.\n *\n *  * @example\n * ```\n *\n * let vals = [ 0, null, undefined ];\n * vals.reduce(anyTrueR, true); // false\n *\n * vals.push(\"hello world\");\n * vals.reduce(anyTrueR, true); // true\n * ```\n */\nexport const anyTrueR = (memo: boolean, elem: any) => memo || elem;\n\n/**\n * Reduce function which un-nests a single level of arrays\n * @example\n * ```\n *\n * let input = [ [ \"a\", \"b\" ], [ \"c\", \"d\" ], [ [ \"double\", \"nested\" ] ] ];\n * input.reduce(unnestR, []) // [ \"a\", \"b\", \"c\", \"d\", [ \"double, \"nested\" ] ]\n * ```\n */\nexport const unnestR = (memo: any[], elem: any[]) => memo.concat(elem);\n\n/**\n * Reduce function which recursively un-nests all arrays\n *\n * @example\n * ```\n *\n * let input = [ [ \"a\", \"b\" ], [ \"c\", \"d\" ], [ [ \"double\", \"nested\" ] ] ];\n * input.reduce(unnestR, []) // [ \"a\", \"b\", \"c\", \"d\", \"double, \"nested\" ]\n * ```\n */\nexport const flattenR = (memo: any[], elem: any) =>\n  isArray(elem) ? memo.concat(elem.reduce(flattenR, [])) : pushR(memo, elem);\n\n/**\n * Reduce function that pushes an object to an array, then returns the array.\n * Mostly just for [[flattenR]] and [[uniqR]]\n */\nexport function pushR(arr: any[], obj: any) {\n  arr.push(obj);\n  return arr;\n}\n\n/** Reduce function that filters out duplicates */\nexport const uniqR = <T>(acc: T[], token: T): T[] => (inArray(acc, token) ? acc : pushR(acc, token));\n\n/**\n * Return a new array with a single level of arrays unnested.\n *\n * @example\n * ```\n *\n * let input = [ [ \"a\", \"b\" ], [ \"c\", \"d\" ], [ [ \"double\", \"nested\" ] ] ];\n * unnest(input) // [ \"a\", \"b\", \"c\", \"d\", [ \"double, \"nested\" ] ]\n * ```\n */\nexport const unnest = (arr: any[]) => arr.reduce(unnestR, []);\n/**\n * Return a completely flattened version of an array.\n *\n * @example\n * ```\n *\n * let input = [ [ \"a\", \"b\" ], [ \"c\", \"d\" ], [ [ \"double\", \"nested\" ] ] ];\n * flatten(input) // [ \"a\", \"b\", \"c\", \"d\", \"double, \"nested\" ]\n * ```\n */\nexport const flatten = (arr: any[]) => arr.reduce(flattenR, []);\n\n/**\n * Given a .filter Predicate, builds a .filter Predicate which throws an error if any elements do not pass.\n * @example\n * ```\n *\n * let isNumber = (obj) => typeof(obj) === 'number';\n * let allNumbers = [ 1, 2, 3, 4, 5 ];\n * allNumbers.filter(assertPredicate(isNumber)); //OK\n *\n * let oneString = [ 1, 2, 3, 4, \"5\" ];\n * oneString.filter(assertPredicate(isNumber, \"Not all numbers\")); // throws Error(\"\"Not all numbers\"\");\n * ```\n */\nexport const assertPredicate: <T>(predicate: Predicate<T>, errMsg: string | Function) => Predicate<T> = assertFn;\n/**\n * Given a .map function, builds a .map function which throws an error if any mapped elements do not pass a truthyness test.\n * @example\n * ```\n *\n * var data = { foo: 1, bar: 2 };\n *\n * let keys = [ 'foo', 'bar' ]\n * let values = keys.map(assertMap(key => data[key], \"Key not found\"));\n * // values is [1, 2]\n *\n * let keys = [ 'foo', 'bar', 'baz' ]\n * let values = keys.map(assertMap(key => data[key], \"Key not found\"));\n * // throws Error(\"Key not found\")\n * ```\n */\nexport const assertMap: <T, U>(mapFn: (t: T) => U, errMsg: string | Function) => (t: T) => U = assertFn;\nexport function assertFn(predicateOrMap: Function, errMsg: string | Function = 'assert failure'): any {\n  return (obj) => {\n    const result = predicateOrMap(obj);\n    if (!result) {\n      throw new Error(isFunction(errMsg) ? (<Function>errMsg)(obj) : errMsg);\n    }\n    return result;\n  };\n}\n\n/**\n * Like _.pairs: Given an object, returns an array of key/value pairs\n *\n * @example\n * ```\n *\n * pairs({ foo: \"FOO\", bar: \"BAR }) // [ [ \"foo\", \"FOO\" ], [ \"bar\": \"BAR\" ] ]\n * ```\n */\nexport const pairs = (obj: Obj) => Object.keys(obj).map((key) => [key, obj[key]]);\n\n/**\n * Given two or more parallel arrays, returns an array of tuples where\n * each tuple is composed of [ a[i], b[i], ... z[i] ]\n *\n * @example\n * ```\n *\n * let foo = [ 0, 2, 4, 6 ];\n * let bar = [ 1, 3, 5, 7 ];\n * let baz = [ 10, 30, 50, 70 ];\n * arrayTuples(foo, bar);       // [ [0, 1], [2, 3], [4, 5], [6, 7] ]\n * arrayTuples(foo, bar, baz);  // [ [0, 1, 10], [2, 3, 30], [4, 5, 50], [6, 7, 70] ]\n * ```\n */\nexport function arrayTuples(...args: any[]): any[] {\n  if (args.length === 0) return [];\n  const maxArrayLen = args.reduce((min, arr) => Math.min(arr.length, min), 9007199254740991); // aka 2^53 − 1 aka Number.MAX_SAFE_INTEGER\n  const result = [];\n\n  for (let i = 0; i < maxArrayLen; i++) {\n    // This is a hot function\n    // Unroll when there are 1-4 arguments\n    switch (args.length) {\n      case 1:\n        result.push([args[0][i]]);\n        break;\n      case 2:\n        result.push([args[0][i], args[1][i]]);\n        break;\n      case 3:\n        result.push([args[0][i], args[1][i], args[2][i]]);\n        break;\n      case 4:\n        result.push([args[0][i], args[1][i], args[2][i], args[3][i]]);\n        break;\n      default:\n        result.push(args.map((array) => array[i]));\n        break;\n    }\n  }\n\n  return result;\n}\n\n/**\n * Reduce function which builds an object from an array of [key, value] pairs.\n *\n * Each iteration sets the key/val pair on the memo object, then returns the memo for the next iteration.\n *\n * Each keyValueTuple should be an array with values [ key: string, value: any ]\n *\n * @example\n * ```\n *\n * var pairs = [ [\"fookey\", \"fooval\"], [\"barkey\", \"barval\"] ]\n *\n * var pairsToObj = pairs.reduce((memo, pair) => applyPairs(memo, pair), {})\n * // pairsToObj == { fookey: \"fooval\", barkey: \"barval\" }\n *\n * // Or, more simply:\n * var pairsToObj = pairs.reduce(applyPairs, {})\n * // pairsToObj == { fookey: \"fooval\", barkey: \"barval\" }\n * ```\n */\nexport function applyPairs(memo: TypedMap<any>, keyValTuple: any[]) {\n  let key: string, value: any;\n  if (isArray(keyValTuple)) [key, value] = keyValTuple;\n  if (!isString(key)) throw new Error('invalid parameters to applyPairs');\n  memo[key] = value;\n  return memo;\n}\n\n/** Get the last element of an array */\nexport function tail<T>(arr: T[]): T {\n  return (arr.length && arr[arr.length - 1]) || undefined;\n}\n\n/**\n * shallow copy from src to dest\n */\nexport function copy(src: Obj, dest?: Obj) {\n  if (dest) Object.keys(dest).forEach((key) => delete dest[key]);\n  if (!dest) dest = {};\n  return extend(dest, src);\n}\n\n/** Naive forEach implementation works with Objects or Arrays */\nfunction _forEach(obj: any[] | any, cb: (el, idx?) => void, _this: Obj) {\n  if (isArray(obj)) return obj.forEach(cb, _this);\n  Object.keys(obj).forEach((key) => cb(obj[key], key));\n}\n\n/** Like Object.assign() */\nexport function _extend(toObj: Obj, ...fromObjs: Obj[]): any;\nexport function _extend(toObj: Obj): any {\n  for (let i = 1; i < arguments.length; i++) {\n    const obj = arguments[i];\n    if (!obj) continue;\n    const keys = Object.keys(obj);\n\n    for (let j = 0; j < keys.length; j++) {\n      toObj[keys[j]] = obj[keys[j]];\n    }\n  }\n\n  return toObj;\n}\n\nfunction _equals(o1: any, o2: any): boolean {\n  if (o1 === o2) return true;\n  if (o1 === null || o2 === null) return false;\n  if (o1 !== o1 && o2 !== o2) return true; // NaN === NaN\n  const t1 = typeof o1,\n    t2 = typeof o2;\n  if (t1 !== t2 || t1 !== 'object') return false;\n\n  const tup = [o1, o2];\n  if (all(isArray)(tup)) return _arraysEq(o1, o2);\n  if (all(isDate)(tup)) return o1.getTime() === o2.getTime();\n  if (all(isRegExp)(tup)) return o1.toString() === o2.toString();\n  if (all(isFunction)(tup)) return true; // meh\n\n  const predicates = [isFunction, isArray, isDate, isRegExp];\n  if (predicates.map(any).reduce((b, fn) => b || !!fn(tup), false)) return false;\n\n  const keys: { [i: string]: boolean } = {};\n  // tslint:disable-next-line:forin\n  for (const key in o1) {\n    if (!_equals(o1[key], o2[key])) return false;\n    keys[key] = true;\n  }\n  for (const key in o2) {\n    if (!keys[key]) return false;\n  }\n\n  return true;\n}\n\nfunction _arraysEq(a1: any[], a2: any[]) {\n  if (a1.length !== a2.length) return false;\n  return arrayTuples(a1, a2).reduce((b, t) => b && _equals(t[0], t[1]), true);\n}\n\n// issue #2676\nexport const silenceUncaughtInPromise = (promise: Promise<any>) => promise.catch((e) => 0) && promise;\nexport const silentRejection = (error: any) => silenceUncaughtInPromise(services.$q.reject(error));\n"]},"metadata":{},"sourceType":"module"}